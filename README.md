# Metaf-Oracle

A web application that transforms complex questions into simple, visualizable metaphors using the power of AI. Metaf-Oracle generates both a textual explanation and an accompanying image to make difficult concepts easier to understand.

## Overview

The Metaf-Oracle is a simple yet powerful tool built on the idea that a good metaphor can illuminate even the most complex topics. You ask a question, and the Oracle responds with:

1.  A concise metaphor or simile generated by an OpenAI GPT model.
2.  A unique image, generated by DALL-E 3, that visually represents the metaphor.

This project uses an Express.js backend with TypeScript to handle API requests to OpenAI and a simple HTML/CSS/JS frontend to provide the user interface.

## Features

- **Metaphor Generation:** Leverages OpenAI's chat models to create insightful metaphors.
- **Image Generation:** Uses DALL-E 3 to create visual representations of the metaphors.
- **Simple Web Interface:** Easy-to-use form to submit questions.
- **Express Backend:** A robust server to handle the logic.
- **Extensible:** Easily adaptable to use different AI models.

## Tech Stack

- **Backend:** Node.js, Express.js, TypeScript
- **Frontend:** HTML, CSS, JavaScript
- **AI:** OpenAI API (GPT and DALL-E 3)

## Prerequisites

- [Node.js](https://nodejs.org/) (v18 or later recommended)
- npm or yarn
- An OpenAI API key

## Getting Started

Follow these steps to get the Metaf-Oracle running on your local machine.

### 1. Clone the Repository

```bash
git clone <repository-url>
cd metaph_oracle
```

### 2. Install Dependencies

Install the necessary npm packages.

```bash
npm install
```

### 3. Set Up Environment Variables

You need to provide your OpenAI API key. Create a file named `.env` in the root of the project directory.

```
touch .env
```

Add your API key to the `.env` file:

```env
# .env
OPENAI_API_KEY=sk-your-secret-api-key-here
```

### 4. Build the Project

This project uses TypeScript. You'll need to compile it to JavaScript. A typical `package.json` would have a build script.

```bash
npm run build
```

_(Note: This assumes a `build` script is configured in `package.json` to run `tsc`)_

## Available Scripts

In your `package.json`, you can define scripts to run the application:

- `"start": "node dist/index.js"`: Runs the compiled application (assuming your main server file is `index.ts`).
- `"build": "tsc"`: Compiles the TypeScript code.
- `"dev": "nodemon src/index.ts"`: Runs the app in development mode with hot-reloading.

### To run the server:

After building, run:

```bash
npm start
```

Or for development:

```bash
npm run dev
```

## Usage

1.  Once the server is running, open your web browser and navigate to the server's address (e.g., `http://localhost:3000`).
2.  You will see the Metaf-Oracle interface.
3.  Type a complex question (e.g., "Explain blockchain technology") into the text area. The prompt must be at least 25 characters long.
4.  Click the "request" button.
5.  Wait a moment while the Oracle thinks. The generated metaphor and image will appear on the page.

## Customization

You can easily change the AI models used for text and image generation. The model names are hardcoded in `/src/routes/openAI.ts`.

- **Text Model:** Look for `model: 'gpt-4.1-nano-2025-04-14'` in the `getOpenAIResponseWithPrompt` and `makeImagePromptFromMetaphor` functions.
- **Image Model:** Look for `model: 'dall-e-3'` in the `createImageFromPrompt` function.

You can replace these with any other compatible model names provided by OpenAI.
